
<div class="container mt-2 h5">
  <!-- Nav tabs -->
  <ul class="nav nav-tabs" id="navId" role="tablist">
    <li class="nav-item">
      <a
        href="#tab1Id"
        class="nav-link active"
        data-bs-toggle="tab"
        aria-current="page"
        >profile</a
      >
    </li>

    <li class="nav-item" role="presentation">
      <a href="#tab2Id" class="nav-link" data-bs-toggle="tab">payment</a>
    </li>

    <li class="nav-item">
      <a class="nav-link" (click)="logout()" >Logout</a>
    </li>
  </ul>

  <!-- Tab panes -->
  <div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="tab1Id" role="tabpanel">
      <div class="container-fluid text-center">
        <!-- {{
          userdetails|json
        }} -->


        <div class="mt-3 container" *ngFor="let x of userdetails">

          <div class="row border p-5">
          <!-- //  <img src="{{x.photo}}" alt="user image" srcset="" > -->

          <div class="col col-md-6">

            <img src="{{x.photo}}" alt="user image" srcset="">
          </div>
          <div class="col col-md-6 ">
            <p>UserID: {{x.uid}}</p>
            <p>Name: {{x.fullName}}</p>
            <p>Email: {{x.email}}</p>
            <p>Address: {{x.address}}</p>
          </div>



          </div>

        </div>


      </div>

    </div>
    <div class="tab-pane fade m-5" id="tab2Id" role="tabpanel">


<div class="container mt-2 h5">
  <!-- {{userpaymentdetais|json}} -->
<ng-container *ngIf="userpaymentdetais.length>0;else elsepart">

  <table  class="table">
    <tr>
      <th>UID</th>
      <th>Name</th>
      <th>Email</th>
      <th>Amount</th>
      <th>Month</th>
      <th>Year</th>

      <th>Status</th>


    </tr>
    <tr *ngFor="let x of userpaymentdetais,index as i">

      <td>{{x.uid}}</td>
      <td>{{x.fullName}}</td>
      <td>{{x.email}}</td>
      <td>{{x.amount}}</td>
      <td>{{x.month}}</td>
      <td>{{x.year}}</td>

      <ng-container *ngIf="x.status=='1' ;else otherpart">
        <td>Paid</td>
      </ng-container>
      <ng-template #otherpart>
        <td>Pending</td>

      </ng-template>

      <ng-container *ngIf="x.status=='1' ;else otherpart2">
        <td></td>
      </ng-container>
      <ng-template #otherpart2>
        <td><button class="btn btn-dark bg-dark" data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="optgenrator(i)">Click to pay</button></td>

      </ng-template>



    </tr>
  </table>
</ng-container>
<ng-template #elsepart>

  <p  class="text-center text-grey ">You've no Payment history</p>
</ng-template>

</div>



    </div>
    <div class="tab-pane fade" id="tab3Id" role="tabpanel">


    </div>
    <div class="tab-pane fade" id="tab4Id" role="tabpanel"></div>
    <div class="tab-pane fade" id="tab5Id" role="tabpanel"></div>








  </div>

  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Payment</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">

          <div class="formGroup">

            <label for="otp">Enter OTP:</label>
            <input type="text"  id="otp" class="form-control" [(ngModel)]="enteredOtp">
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal"  (click)="payment()">Pay</button>
        </div>
      </div>
    </div>
  </div>

  <!-- (Optional) - Place this js code after initializing bootstrap.min.js or bootstrap.bundle.min.js -->
  <script>
    var triggerEl = document.querySelector("#navId a");
    bootstrap.Tab.getInstance(triggerEl).show(); // Select tab by name
  </script>
</div>
