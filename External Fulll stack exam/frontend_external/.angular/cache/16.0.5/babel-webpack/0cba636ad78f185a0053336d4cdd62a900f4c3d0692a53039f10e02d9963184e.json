{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet ProductviewComponent = class ProductviewComponent {\n  constructor(api, fb, route) {\n    this.api = api;\n    this.fb = fb;\n    this.route = route;\n  }\n  ngOnInit() {\n    this.api.getlist().subscribe(x => {\n      console.log(x);\n      this.productlist = x;\n    });\n    this.editform = this.fb.group({\n      pid: ['', [Validators.required]],\n      Pname: ['', [Validators.required]],\n      description: ['', [Validators.required, Validators.maxLength(100)]],\n      Price: ['', [Validators.required, Validators.pattern('')]],\n      Qty: ['', [Validators.required, Validators.pattern('')]],\n      Photo: ['NULL', [Validators.required]]\n    });\n  }\n  edit(id, index) {\n    // alert(id);\n    var data = this.productlist[index];\n    console.log(data);\n    this.editproduct = data;\n    //  console.log(data);\n    const formfiller = {\n      pid: data.pid,\n      Pname: data.pname,\n      description: data.description,\n      Price: data.price,\n      Qty: data.qty,\n      Photo: data.photo\n    };\n    this.editform.patchValue(formfiller);\n  }\n  delete(id) {\n    this.api.deleteproduct(id).subscribe(x => {\n      console.log(x);\n      this.api.getlist().subscribe(x => {\n        console.log(x);\n        this.productlist = x;\n      });\n    });\n  }\n  submiteditform() {\n    console.log(this.editform.value);\n    this.api.editproduct(this.editform.value).subscribe(x => {\n      console.log(x);\n      this.productlist = x;\n    });\n    this.api.getlist().subscribe(x => {\n      console.log(x);\n      this.productlist = x;\n    });\n  }\n  serchproduct() {\n    // this.filteredproductlist = this.productlist.filter(x:any =>  x.pname == this.serchproduct);\n    this.filteredproductlist = this.productlist.filter(x => x.pname == this.product);\n    console.log(this.filteredproductlist);\n  }\n};\nProductviewComponent = __decorate([Component({\n  selector: 'app-productview',\n  templateUrl: './productview.component.html',\n  styleUrls: ['./productview.component.css']\n})], ProductviewComponent);\nexport { ProductviewComponent };","map":{"version":3,"names":["Component","Validators","ProductviewComponent","constructor","api","fb","route","ngOnInit","getlist","subscribe","x","console","log","productlist","editform","group","pid","required","Pname","description","maxLength","Price","pattern","Qty","Photo","edit","id","index","data","editproduct","formfiller","pname","price","qty","photo","patchValue","delete","deleteproduct","submiteditform","value","serchproduct","filteredproductlist","filter","product","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Twinkle\\Desktop\\External exam\\frontend_external\\src\\app\\productview\\productview.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ApiService } from '../service/api.service';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-productview',\n  templateUrl: './productview.component.html',\n  styleUrls: ['./productview.component.css'],\n})\nexport class ProductviewComponent implements OnInit {\n\n  product!:string;\n\n\n  productlist!: any;\n\n\n  filteredproductlist!: any;\n\n\n  editproduct!: any;\n\n  editform!: any;\n\n  constructor(private api: ApiService, private fb: FormBuilder,private route:Router) {}\n\n  ngOnInit(): void {\n    this.api.getlist().subscribe((x) => {\n      console.log(x);\n      this.productlist = x;\n    });\n\n    this.editform = this.fb.group({\n      pid: ['', [Validators.required]],\n      Pname: ['', [Validators.required]],\n      description: ['', [Validators.required, Validators.maxLength(100)]],\n      Price: ['', [Validators.required, Validators.pattern('')]],\n      Qty: ['', [Validators.required, Validators.pattern('')]],\n      Photo: ['NULL', [Validators.required]],\n    });\n  }\n\n  edit(id: number, index: number) {\n   // alert(id);\n    var data = this.productlist[index];\n    console.log(data);\n\n    this.editproduct = data;\n    //  console.log(data);\n\n    const formfiller = {\n      pid: data.pid,\n      Pname: data.pname,\n      description: data.description,\n      Price: data.price,\n      Qty: data.qty,\n      Photo: data.photo\n    };\n\n\n    this.editform.patchValue(formfiller);\n  }\n\n  delete(id: number) {\n\n    this.api.deleteproduct(id).subscribe((x)=>{\n      console.log(x);\n      this.api.getlist().subscribe((x) => {\n        console.log(x);\n        this.productlist = x;\n      });\n\n    });\n\n\n\n\n  }\n\n  submiteditform() {\n    console.log(this.editform.value);\n    this.api.editproduct(this.editform.value).subscribe((x)=>{\nconsole.log(x);\n      this.productlist=x;\n\n    })\n\n    this.api.getlist().subscribe((x) => {\n      console.log(x);\n      this.productlist = x;\n    });\n  }\n\n\n\n\n\n\n  serchproduct(){\n\n   // this.filteredproductlist = this.productlist.filter(x:any =>  x.pname == this.serchproduct);\n\n  this.filteredproductlist=this.productlist.filter((x: { pname: string; })=> x.pname== this.product);\n\n    console.log(this.filteredproductlist);\n\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}