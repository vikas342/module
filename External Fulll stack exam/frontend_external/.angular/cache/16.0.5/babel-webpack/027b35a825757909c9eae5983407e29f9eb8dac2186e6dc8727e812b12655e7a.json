{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet ProductviewComponent = class ProductviewComponent {\n  constructor(api, fb, route) {\n    this.api = api;\n    this.fb = fb;\n    this.route = route;\n    this.product = '';\n    this.filterevent = false;\n  }\n  ngOnInit() {\n    this.api.getlist().subscribe(x => {\n      console.log(x);\n      this.productlist = x;\n    });\n    this.editform = this.fb.group({\n      pid: ['', [Validators.required]],\n      Pname: ['', [Validators.required]],\n      description: ['', [Validators.required, Validators.maxLength(100)]],\n      Price: ['', [Validators.required, Validators.pattern('')]],\n      Qty: ['', [Validators.required, Validators.pattern('')]],\n      Photo: ['NULL', [Validators.required]]\n    });\n    this.api.getcategories().subscribe(x => {\n      console.log(x);\n      this.categories = x;\n    });\n  }\n  edit(id, index) {\n    // alert(id);\n    var data = this.productlist[index];\n    console.log(data);\n    this.editproduct = data;\n    //  console.log(data);\n    const formfiller = {\n      pid: data.pid,\n      Pname: data.pname,\n      description: data.description,\n      Price: data.price,\n      Qty: data.qty,\n      Photo: data.photo\n    };\n    this.editform.patchValue(formfiller);\n  }\n  delete(id) {\n    this.api.deleteproduct(id).subscribe(x => {\n      console.log(x);\n      this.api.getlist().subscribe(x => {\n        console.log(x);\n        this.productlist = x;\n      });\n    });\n  }\n  submiteditform() {\n    console.log(this.editform.value);\n    this.api.editproduct(this.editform.value).subscribe(x => {\n      console.log(x);\n      this.productlist = x;\n    });\n    this.api.getlist().subscribe(x => {\n      console.log(x);\n      this.productlist = x;\n    });\n  }\n  serchproduct() {\n    this.filterevent = false;\n    this.filteredproductlist = this.productlist.filter(x => x.pname == this.product);\n    console.log(this.filteredproductlist);\n  }\n  getfilter(data) {\n    this.filterevent = true;\n    this.filteredproductlist = this.productlist.filter(x => x.cat == parseInt(data.value));\n    console.log(this.filteredproductlist);\n  }\n};\nProductviewComponent = __decorate([Component({\n  selector: 'app-productview',\n  templateUrl: './productview.component.html',\n  styleUrls: ['./productview.component.css']\n})], ProductviewComponent);\nexport { ProductviewComponent };","map":{"version":3,"names":["Component","Validators","ProductviewComponent","constructor","api","fb","route","product","filterevent","ngOnInit","getlist","subscribe","x","console","log","productlist","editform","group","pid","required","Pname","description","maxLength","Price","pattern","Qty","Photo","getcategories","categories","edit","id","index","data","editproduct","formfiller","pname","price","qty","photo","patchValue","delete","deleteproduct","submiteditform","value","serchproduct","filteredproductlist","filter","getfilter","cat","parseInt","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Twinkle\\Desktop\\External exam\\frontend_external\\src\\app\\productview\\productview.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ApiService } from '../service/api.service';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-productview',\n  templateUrl: './productview.component.html',\n  styleUrls: ['./productview.component.css'],\n})\nexport class ProductviewComponent implements OnInit {\n\n  product:string='';\n\n\n  productlist!: any;\n\n\n  filteredproductlist!: any;\n\n\n\n  categories!:any;\n\n  filterevent:boolean=false;\n\n  editproduct!: any;\n\n  editform!: any;\nfilterproduct: any;\n\n  constructor(private api: ApiService, private fb: FormBuilder,private route:Router) {}\n\n  ngOnInit(): void {\n    this.api.getlist().subscribe((x) => {\n      console.log(x);\n      this.productlist = x;\n    });\n\n    this.editform = this.fb.group({\n      pid: ['', [Validators.required]],\n      Pname: ['', [Validators.required]],\n      description: ['', [Validators.required, Validators.maxLength(100)]],\n      Price: ['', [Validators.required, Validators.pattern('')]],\n      Qty: ['', [Validators.required, Validators.pattern('')]],\n      Photo: ['NULL', [Validators.required]],\n    });\n\n\n\n    this.api.getcategories().subscribe((x)=>{\n      console.log(x);\n      this.categories=x;\n    })\n\n\n  }\n\n  edit(id: number, index: number) {\n   // alert(id);\n    var data = this.productlist[index];\n    console.log(data);\n\n    this.editproduct = data;\n    //  console.log(data);\n\n    const formfiller = {\n      pid: data.pid,\n      Pname: data.pname,\n      description: data.description,\n      Price: data.price,\n      Qty: data.qty,\n      Photo: data.photo\n    };\n\n\n    this.editform.patchValue(formfiller);\n  }\n\n  delete(id: number) {\n\n    this.api.deleteproduct(id).subscribe((x)=>{\n      console.log(x);\n      this.api.getlist().subscribe((x) => {\n        console.log(x);\n        this.productlist = x;\n      });\n\n    });\n\n\n\n\n  }\n\n  submiteditform() {\n    console.log(this.editform.value);\n    this.api.editproduct(this.editform.value).subscribe((x)=>{\nconsole.log(x);\n      this.productlist=x;\n\n    })\n\n    this.api.getlist().subscribe((x) => {\n      console.log(x);\n      this.productlist = x;\n    });\n  }\n\n\n\n\n\n\n  serchproduct(){\n\n\nthis.filterevent=false;\n  this.filteredproductlist=this.productlist.filter((x: { pname: string; })=> x.pname== this.product);\n\n    console.log(this.filteredproductlist);\n\n  }\n\n\n\n\n  getfilter(data:any){\n    this.filterevent=true;\n\n    this.filteredproductlist=this.productlist.filter((x: { cat: number; })=> x.cat== parseInt(data.value));\n\n    console.log(this.filteredproductlist);\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}